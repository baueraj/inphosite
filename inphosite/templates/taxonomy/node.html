<%! import urllib %>
<%inherit file="/base-tree.html" />
<%namespace name="entity" file="/entity/entity.html" />
<%def name="head()">
<script src="/js/eval.js" type="text/javascript"></script>
<script src="/js/admin.js" type="text/javascript"></script>
</%def>

## Header
<%def name="title()">${parent.title()} - Idea - ${h.titlecase(c.entity.label)}</%def>
<%def name="head_title()">${h.titlecase(c.entity.label)}</%def>
## Sidebar
<%def name="sidebar()">
${parent.sidebar()}
${parent.draw(c.node)}</%def>

<script type="text/javascript">
$('#tabnav').tab();
</script>

<h1>${h.titlecase(c.entity.label)}</h1>
%if c.entity.sep_dir:
<p><a href="http://plato.stanford.edu/entries/${c.entity.sep_dir}/"><img src="/img/sepmanicon.png" /> ${h.titlecase(c.entity.label)}</a> is also an article in the Stanford Encyclopedia of Philosophy.</p>
%endif

<ul class="nav nav-tabs" id="tabnav" data-tabs="tabs">
    <li class="active"><a href="#home" data-toggle="tab"><i class="icon-home"></i></a></li>
    %if h.auth.is_admin():
    <li><a href="#admin" data-toggle="tab"><i class="icon-pencil"></i> Admin</a></li>
    %endif
</ul>

<div class="tab-content">
    <div class="tab-pane active" id="home">
        ${entity.printList(c.entity.instances, 'instances')}
        ${entity.printList(c.node.children, 'children', alt_title='Subclasses')}
        ${entity.printList(c.entity.links, 'links')}
        ${entity.printList(c.entity.related[:10], 'related', alt_title='Related Terms', statistical=True)}
        ${entity.printList(c.entity.related_thinkers[:10], 'related_thinkers', statistical=True, evaluation_type="Idea-Thinker")}
        ${entity.printList(c.entity.hyponyms[:10], 'hyponyms', statistical=True)}
        ${entity.printList(c.entity.occurrences[:10], 'occurrences', statistical=True)}
    </div>
## If user is authorised, show admin panel
%if h.auth.is_admin():
    <div class="tab-pane" id="admin">
        ${entity.printAdminPanel(["id", "type", "label", "sep_dir", "searchstring", "in-degree", "out-degree", "entropy", "searchpatterns"])}
    </div>
%endif
</div> <!-- tab-content -->
