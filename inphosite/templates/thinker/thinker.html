<%! import urllib %>
<%inherit file="/base-tree.html" />

## Header
<%def name="title()">Thinker - ${c.thinker.label}</%def>
<%def name="head_title()">${c.thinker.label}</%def>
## Sidebar
<%def name="sidebar()">
${parent.sidebar()}
<br />
${parent.draw()}</%def>


## Body
<div class="yui-gd">
<script type="text/javascript">
function srch(elm, id, id2) {
    if (!($(elm).hasClass('active'))) {
        $("#moreInfo").html("<p>Loading search results ...</p><p><img src='/img/loading.gif' /></p>");
        var src  = '/entity/' + id + '/search_with/' + id2;
        $.get(src, function(data){
                $("#moreInfo").html(data);
            });
        $('.active').removeClass('active');
        $(elm).addClass('active');
    }
}
</script>


<div id="content">
<h1>${c.thinker.label}</h1>
%if c.thinker.sep_dir:
<p><a href="http://plato.stanford.edu/entries/${c.thinker.sep_dir}/"
target="_blank">
<img src="/img/sepmanicon.png" /> ${c.thinker.label.title()}</a>
also has an article in the Stanford Encyclopedia of Philosophy.</p>
%endif
<p><a href="#moreInfo" onClick="showInfo()">Biographical information</a></p>
</div>


<div id="contentLeft">
<script type="text/javascript">
function toggleList(selector) {
    if ($('.on', selector).length > 0) {
        $('.on', selector).removeClass('on').addClass('off');
    } else {
        $('.off', selector).removeClass('off').addClass('on');
    }
    $('ol', selector).toggle("slow");
    $('ul', selector).toggle("slow");
    $('p', selector).toggle("slow");
    }
</script>

<div id="influencedBy">
%if not c.thinker.influenced_by:
<h3 class="empty">Influenced By</h3>
%else:
<h3>Influenced By
<span class="toggle on" onclick="toggleList('#influencedBy')">&nbsp;</span>
</h3>
<ul>
    %for thinker in c.thinker.influenced_by:
    ${printEntity(thinker)}
    %endfor
</ul>
%endif
</div>


<div id="students">
%if not c.thinker.students:
<h3 class="empty">Students</h3>
%else:
<h3>Students
<span class="toggle on" onclick="toggleList('#students')">&nbsp;</span>
</h3>
<ul>
    %for thinker in c.thinker.students:
    ${printEntity(thinker)}
    %endfor
</ul>
%endif
</div>

<div id="influenced">
%if not c.thinker.influenced:
<h3 class="empty">Influenced</h3>
%else:
<h3>Influenced
<span class="toggle on" onclick="toggleList('#influenced')">&nbsp;</span>
</h3>
<ul>
    %for thinker in c.thinker.influenced:
    ${printEntity(thinker)}
    %endfor
</ul>
%endif
</div>

<div id="related">
%if not c.thinker.related_ideas.first():
<h3 class="empty">Related Terms</h3>
%else:
<h3>Related Terms
<span class="toggle on" onclick="toggleList('#related')">&nbsp;</span>
</h3>
<p class="bottom">Generated by <i>statistical measures</i></p>
<ol>
%for idea in c.thinker.related_ideas[0:9]:
${printEntity(idea)}
%endfor
</ol>
%endif
</div> <!-- related -->

<%def name="printEntity(entity)">
    <li onClick="srch(this, ${c.thinker.ID}, ${entity.ID})" class="idea">\
    <a href="${entity.url()}" class="sep">
    <img src="/img/inpho.png" /></a>\
    %if entity.sep_dir:
    <a href="http://plato.stanford.edu/entries/${entity.sep_dir}/" class="icons">
    <img src="/img/sepmanicon.png" /></a>\
    %endif
    <a href="#moreInfo">${entity.label}</a>\
    </li>
</%def>
</div> <!-- contentLeft -->

<div id="moreInfo">
<dl>
    %if c.thinker.birth_sd():
    <dt>Birth Date:</dt>
    <dd>
    ${c.thinker.birth_sd()}
    </dd>
	<br />
    %endif
    
    %if c.thinker.death_sd():
    <dt>Death Date:</dt>
    <dd>
    ${c.thinker.death_sd()}
    </dd>
	<br />
    %endif

    %if len(c.thinker.nationalities):
    <dt>Nationality:</dt>
    %for nationality in c.thinker.nationalities:
    <dd>${nationality.name}</dd>
    %endfor
	<br />
    %endif

    %if len(c.thinker.professions):
    <dt>Profession:</dt>
    %for profession in c.thinker.professions:
    <dd>${profession.name}</dd>
    %endfor
	<br />
    %endif

    %if len(c.thinker.aliases):
    <dt>Alias:</dt>
    %for alias in c.thinker.aliases:
    <dd>${alias}</dd></dl>
    %endfor
	<br />
    %endif
</div>

<script type="text/javascript">
var info = $('#moreInfo').html();
function showInfo() {
    $("#moreInfo").html(info);
}
</script>


</div>
