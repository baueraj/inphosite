<%! import urllib %>
<%inherit file="/base-tree.html" />
<%namespace name="entity" file="/entity/entity.html" />
<%def name="head()">
<script src="/js/eval.js" type="text/javascript"></script>
<script src="/js/admin.js" type="text/javascript"></script>
<script src="/js/tabnav.js" type="text/javascript"></script>
<script src="/js/entity.js" type="text/javascript"></script>
</%def>

## Header
<%def name="title()">Thinker - ${c.entity.label}</%def>
<%def name="head_title()">${c.entity.label}</%def>

## Body
<h1>${h.titlecase(c.entity.label)}</h1>
%if c.entity.sep_dir:
<p><a href="http://plato.stanford.edu/entries/${c.entity.sep_dir}/" target="_blank"><img src="/img/sepmanicon.png" /> ${h.titlecase(c.entity.label)}</a> is also an article in the Stanford Encyclopedia of Philosophy.</p>
%endif



<ul class="nav nav-tabs" id="tabnav" data-tabs="tabs">
    <li id="home-tab" class="active"><a href="#home" data-toggle="tab"><i class="icon-home"></i></a></li>
    %if h.auth.is_admin():
    <li id="admin-tab"><a href="#admin" data-toggle="tab"><i class="icon-pencil"></i> Admin </a></li>
    %endif
</ul>



<div class="tab-content" id="tabnav-content">
    <div class="tab-pane active" id="home">
      <dl class="dl-horizontal">
          %if c.entity.birth_sd():
          <dt>Birth Date:</dt>
          <dd>
          ${c.entity.birth_sd()}
          </dd>
          %endif
          
          %if c.entity.death_sd():
          <dt>Death Date:</dt>
          <dd>
          ${c.entity.death_sd()}
          </dd>
          %endif
      
          %if len(c.entity.nationalities):
          <dt>Nationality/ethnicity:</dt>
          %for nationality in c.entity.nationalities:
          <dd>${nationality.name}</dd>
          %endfor
          %endif
      
          %if len(c.entity.professions):
          <dt>Profession:</dt>
          %for profession in c.entity.professions:
          <dd>${profession.name}</dd>
          %endfor
          %endif
      
          %if len(c.entity.aliases):
          <dt>Alias:</dt>
          %for alias in c.entity.aliases:
          <dd>${alias}</dd>
          %endfor
          %endif
      </dl>
      ${entity.printList('influenced')}
      ${entity.printList('influenced_by')}
      ${entity.printList('students')}
      ${entity.printList('teachers')}
      ${entity.printList('related', 'Related Thinkers')}
      ${entity.printList('related_ideas', 'Related Terms')}
    </div>
## If user is authorised, show admin panel
%if h.auth.is_admin():
    <div class="tab-pane" id="admin">
${entity.printAdminPanel(["id", "type", "label", "sep_dir", "searchstring", "wiki", "searchpatterns", "birth", "death"])}
    </div>
%endif
</div> <!-- tab-content -->
