<%inherit file="/base-tree.html"/>
<%namespace name="eval" file="/idea/eval.html" />
<%def name="title()">Idea - ${h.titlecase(c.idea.label)}</%def>
<%def name="head_title()">${h.titlecase(c.idea.label)}</%def>

<%def name="head()">
<link rel="stylesheet" type="text/css" href="/css/idea-edit.css">
</%def>

<%def name="printEntity(cons, cls='')">
    <%
    from inpho.model import IdeaEvaluation
    from inpho.model import Session

    if request.environ.get('REMOTE_USER'):
        uid = h.get_user(request.environ['REMOTE_USER']).ID
        evaluation = Session.query(IdeaEvaluation).filter_by(ante_id=c.idea.ID, cons_id=cons.ID, uid=uid).first()
    else:
        evaluation = None
        uid = None

    if evaluation:
        gen, rel = (evaluation.generality, evaluation.relatedness)
    else:
        gen, rel = (-1, -1)

    %>
        <strong>${h.titlecase(cons.label)}</strong>&nbsp;&nbsp;

        %if cons not in c.idea.nodes and cons != c.idea:
        <a href="${cons.url()}" class="sep" target="_blank"><img src="/img/inpho.png" /></a>
        %endif

        %if cons.sep_dir:
        <a href="http://plato.stanford.edu/entries/${cons.sep_dir}/" class="icons" target="_blank"><img src="/img/sepmanicon.png" /></a>
        %endif

        %if (rel > -1) and (gen > -1):
        <img class='loading' src="/img/check.gif"/>
        %else:
        <img class='loading' src="/img/empty.gif"/>
        %endif

        ${eval.form(c.idea, cons, rel, gen)}

</%def>

<div id="evalContent">
    <h1>${h.titlecase(c.idea.label)}</h1>
  
    <h3>How is <em>${h.titlecase(c.idea.label)}</em> related to each idea?</h3>

    %if len(c.paginator):
      <ol class="unstyled">
        %for idea in c.paginator:
          <li class="evalItem">${printEntity(idea)}</li>
        %endfor  
      </ol>
    % else:
    <h3>No more candidates to evaluate.</h3><br />
    % endif
</div> <!-- EVAL CONTENT -->

<!-- FAQ BEGIN -->
<div class="accordion" id="accordion2">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne">
                <h2>InPhO Idea Evaluations FAQ</h2>
            </a>
        </div>
        <div id="collapseOne" class="accordion-body collapse in">
            <div class="accordion-inner">
                <strong>
                The related terms above are generated by statistical measures.
                <br /><br/>
                You can navigate through the idea tree by clicking on the topic node links the
                left. Clicking on a node expands it into the available subtopics. If no terms
                appear below, on the right side of this page, then please follow links until
                some do.
                <br /><br />
                For each term shown, please indicate its relationship to the
                topic node selected. You may skip any items you are unsure about.
                </strong>
            </div>
        </div>
    </div>
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo">
                What does it mean to say that two ideas are highly related?
            </a>
        </div>
        <div id="collapseTwo" class="accordion-body collapse">
            <div class="accordion-inner">
                Two ideas are highly related if consideration of the first idea "naturally"
                or "necessarily" raises consideration of the second (and vice versa) in the
                context of that specialization of philosophy. For example, suppose you are
                writing a somewhat comprehensive book on the more general of the two ideas;
                how strongly do you feel that you should mention the more specific idea in
                that book? Or, suppose you are writing a paper on the more specific idea (or
                the two terms are the same level of generality); how strongly do you feel
                you should locate your project with respect to work on the other idea? If
                two terms are highly related, it is strongly recommended to consider issues
                concerning idea B when dealing with issues concerning idea A (and vice
                versa). If two terms are related, then A and B are often, but perhaps not
                necessarily, mutually relevant. A "somewhat related" vote might indicate that you can
                see how the two ideas are commonly or distantly related, but explicit mutual
                treatment would not be expected. A vote of "unrelated" or "marginally related"
                should indicate that you would be surprised to see one deal seriously with
                idea B in the context of idea A (and vice versa).
            </div>
        </div>
    </div>
    <div class="accordion-group">
        <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseThree">
            What does it mean to say that one idea is more specific than (or more general than) another?
        </a>
        </div>
        <div id="collapseThree" class="accordion-body collapse">
            <div class="accordion-inner">
                One idea is considered more general than another if it is considered in a
                wider range of contexts, or it plays a more important role in that
                specialization of philosophy. For example, the most general ideas are likely
                to be the topics of numerous survey books and courses, and are likely to
                constitute areas or problems with which a philosopher could be occupied with
                for much of her career. The most specific ideas are likely to be mentioned
                only in a few very specialized papers, and are likely to be dealt with
                directly only by a small number of philosophers. Most ideas will fall in the
                middle of this scale, and that is why we should consider the relative
                generality of the two ideas. If they are highly related, how likely is idea
                B to be a sub-topic, or minor issue, reviewed in a book about idea A (and
                vice versa)?
            </div>
        </div>
    </div>
    <div class="accordion-group">
        <div class="accordion-heading">
        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseFour">
            In what context should I decide the relatedness or relative generality of two ideas?
        </a>
        </div>
        <div id="collapseFour" class="accordion-body collapse">
            <div class="accordion-inner">
                We want to acquire information about how philosophers organize the semantic
                space of a discipline in their particular areas of expertise. Thus, you
                should evaluate the semantic relationship between the two ideas only in
                context of the broad sub-specialization of philosophy in which the category
                is classified (e.g.  metaphysics, logic, philosophy of mind, ethics, etc.). 
                <br /><br />
                You should also not require or expect these semantic relationships to hold
                domain-generally. For example, while "connectionism" is an idea that might
                naturally be subordinated to the heading "philosophy of mental content" in
                the context of philosophy of mind, in the context of the discipline of
                computer science, the direction of relative generality would be reversed.
            </div>
        </div>
    </div>
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseFive">
                How is the list of candidate pairs generated?
            </a>
        </div>
        <div id="collapseFive" class="accordion-body collapse">
            <div class="accordion-inner">
                The list is generated by combining a statistical measure of the semantic
                relatedness of the terms in the SEP with a measure of their relative
                generality. The relatedness score is computed by looking at the number of
                times the terms co-occur throughout the encyclopedia, either in the same
                sentence (weighted more highly) or in the same article (weighted less).
                <br /><br />
                The relative generality score is generated by taking a measure of the terms'
                relative entropy--in short, do the terms occur just a few times in a small
                subset of documents, or are they very common words that occur frequently
                throughout the corpus? The assumption here is that the higher a term's
                entropy, the more general it will be in the encyclopedia; and the lower the
                term's entropy, the more specific it will be. 
                <br /><br />
                These scores are then combined
                into a single measure, which allows us to generate a ranked list of
                candidate hyponyms (more specific and highly related) and hypernyms (more
                general and highly related) for the target term. It is this ranked list that
                is displayed to you for evaluation.
            </div>
        </div>
    </div>
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseSix">
                What if I feel sure that two ideas are semantically related, but I can see an argument for either direction of their relative generality?
            </a>
        </div>
        <div id="collapseSix" class="accordion-body collapse">
            <div class="accordion-inner">
                If you can see strong arguments for classifying A as more general than B,
                and B as more general than A, and you feel that neither argument wins out,
                select "either/incomparable". As we currently use this evidence, this will
                prevent direct hierarchical links between the two ideas, but will still make
                it likely that they will be mutually reachable in the taxonomy via semantic
                links.
            </div>
        </div>
    </div>
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseSeven">
                What if one of the terms is ambiguous?
            </a>
        </div>
        <div id="collapseSeven" class="accordion-body collapse">
            <div class="accordion-inner">
                If one (or both) of the terms being evaluated is ambiguous in philosophy,
                you should interpret it as having the most common meaning in the
                specialization under consideration. For example, if you are asked to
                evaluate "internalism" in the context of epistemology, you should interpret
                this slightly differently than if you were evaluating it in the context of
                philosophy of mind (e.g., internalism about justification vs. internalism
                about mental content).
            </div>
        </div>
    </div>
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseEight">
                What if I know how something is commonly classified, but I personally disagree with that classification?
            </a>
        </div>
        <div id="collapseEight" class="accordion-body collapse">
            <div class="accordion-inner">
                We are trying to capture the shared conceptualization of the discipline as
                it currently sees itself, not as it ought to see itself--so please try not
                to be radically revisionary in the feedback you provide. However, if you
                know that a significant number of philosophers might go one way on a
                classification, but a significant number might also go the other way (e.g.,
                it is currently recognized as a matter of dispute), feel free to "vote" in
                the direction you think most appropriate.
            </div>
        </div>
    </div>
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseNine">
                What if someone else's feedback disagrees with mine?
            </a>
        </div>
        <div id="collapseNine" class="accordion-body collapse">
            <div class="accordion-inner">
                We currently use a scheme for mitigating disagreements by leveraging a
                combination of voting rules and expertise trumping policies (described in
                our "Crowdsourcing the Assembly of Concept Hierarchies" paper).  When users
                register for InPhO, they report a level of expertise in a given area.  When
                integrating feedback from multiple users, the feedback facts pass through a
                two-stage filter process to resolve inconsistencies.  First, a majority
                rules "vote" is taken at each strata of user expertise for each feedback
                fact present in the database (with ties settled by the co-occurrence
                statistics).  Next, the consensus at the higher level of expertise trumps
                the consensus at the lower.  So, for example, imagine that 3 amateurs
                reported that A is more general than B, but 6 amateurs reported that B is
                more general than A; in this case, we would conclude that B is more general
                than A.  Suppose 2 experts then report that A is more general than B; these
                experts will then trump the amateur consensus.  
                <br /><br />
                We are investigating more sophisticated schemes for mitigating disagreement
                which take into account statistical measurements of each user's reliability.
                If you have a research interest in this area and would like to collaborate
                on this issue, please contact us.
            </div>
        </div>
    </div>
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTen">
                How hard should I think about idea pairs which seem odd?
            </a>
        </div>
        <div id="collapseTen" class="accordion-body collapse">
            <div class="accordion-inner">
                Our statistical methods are imperfect, and, like any automated methods, will
                generate a small amount of "junk". If you are curious why two ideas have
                been paired, you are encouraged to investigate using the searches brought up
                to the right of the evaluation pane; you may find a relationship of which
                you were unaware. However, if you cannot determine any relationship between
                the two, don't waste too much time thinking about it -- just skip it and
                move on to the next pair.
            </div>
        </div>
    </div>
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseEleven">
                Why haven't my feedback added any new instances to the taxonomy?
            </a>
        </div>
        <div id="collapseEleven" class="accordion-body collapse">
            <div class="accordion-inner">
                The nonmonotonic logic programming step takes some time, and cannot be run
                every time a user inputs new feedback. Instead, the program is run every
                evening; check back in a few days to see how your feedback has influenced
                the instances in the taxonomy.
            </div>
        </div>
    </div>
</div> <!-- FAQ END -->

<!-- le javascript -->
<script type="text/javascript" src="/js/eval.js"></script>
<script type="text/javascript">inpho.eval.alert = false;</script>
